# Wifi

## Протокол обмена данными по WebSocket
Команды передаются в виде пакетов длиной 16 байт. Нулевой байт - идентификатор устройства или действия, первый, возможно и второй - необходимые операции, далее - дополнительные параметры.

## Работа с wifi
`OBJ_NAME_WIFI = 0x20;`

Настройки подключения:
`WIFI_SETTINGS = 0x01;`

Получение настроек подключения к wifi:
`CMD_READ = 0x01;`

|  0   |  1   |  2   |  3   |  4   |  5   |  6   |  7   |  8   |  9   |  A   |  B   |  C   |  D   |  E   |  F   |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| `ID` | `sID`| `CMD`|      |      |      |      |      |      |      |      |      |      |      |      |      |
| `20` | `01` | `01` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` |

### Ответ

|  0   |  1   |  2   |  3   |  4   |  5   |  6   |  7   |  8   |  9   |  A   |  B   |  C   |  D   |  E   |  F   |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| `ID` | `sID`| `CMD`| `M`  |      |      |      |      |      |      |      |      |      |      |      |      |
| `20` | `01` | `01` | `01` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` |

|  10  |  11  |  12  |  13  |  14  |  15  |  16  |  17  |  18  |  19  |  1A  |  1B  |  1C  |  1D  |  1E  |  1F  |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| `H`  | `U`  | `A`  | `W`  | `E`  | `I`  | `-`  | `B`  | `A`  | `7`  | `F`  |      |      |      |      |      |
| `48` | `55` | `41` | `57` | `45` | `49` | `2D` | `42` | `41` | `37` | `46` | `00` | `00` | `00` | `00` | `00` |

|  20  |  21  |  22  |  23  |  24  |  25  |  26  |  27  |  28  |  29  |  2A  |  2B  |  2C  |  2D  |  2E  |  2F  |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
|      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` |

Режим работы `M`:
`WIFI_MODE_STA = 0x01;`
`WIFI_MODE_AP = 0x02;`

* Режим работы `M`
* Имя сети SSID (байты `10`-`2F`)

### Запись настроек подключения к wifi
`CMD_WRITE = 0x02;`

|  0   |  1   |  2   |  3   |  4   |  5   |  6   |  7   |  8   |  9   |  A   |  B   |  C   |  D   |  E   |  F   |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| `ID` | `sID`| `CMD`| `M`  |      |      |      |      |      |      |      |      |      |      |      |      |
| `20` | `01` | `01` | `01` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` |

|  10  |  11  |  12  |  13  |  14  |  15  |  16  |  17  |  18  |  19  |  1A  |  1B  |  1C  |  1D  |  1E  |  1F  |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| `H`  | `U`  | `A`  | `W`  | `E`  | `I`  | `-`  | `B`  | `A`  | `7`  | `F`  |      |      |      |      |      |
| `48` | `55` | `41` | `57` | `45` | `49` | `2D` | `42` | `41` | `37` | `46` | `00` | `00` | `00` | `00` | `00` |

|  20  |  21  |  22  |  23  |  24  |  25  |  26  |  27  |  28  |  29  |  2A  |  2B  |  2C  |  2D  |  2E  |  2F  |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
|      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` |

|  30  |  31  |  32  |  33  |  34  |  35  |  36  |  37  |  38  |  39  |  3A  |  3B  |  3C  |  3D  |  3E  |  3F  |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| `1`  | `2`  | `3`  | `4`  | `5`  | `6`  | `7`  | `8`  |      |      |      |      |      |      |      |      |
| `31` | `32` | `33` | `34` | `35` | `36` | `37` | `38` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` |

|  40  |  41  |  42  |  43  |  44  |  45  |  46  |  47  |  48  |  49  |  4A  |  4B  |  4C  |  4D  |  4E  |  4F  |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
|      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` |

|  50  |  51  |  52  |  53  |  54  |  55  |  56  |  57  |  58  |  59  |  5A  |  5B  |  5C  |  5D  |  5E  |  5F  |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
|      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` |

|  60  |  61  |  62  |  63  |  64  |  65  |  66  |  67  |  68  |  69  |  6A  |  6B  |  6C  |  6D  |  6E  |  6F  |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
|      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` |

* Режим работы `M`
* Имя сети SSID (байты `10`-`2F`), 32 байта
* Пароль (байты `30`-`6F`), 64 байта

### Ответ

|  0   |  1   |  2   |  3   |  4   |  5   |  6   |  7   |  8   |  9   |  A   |  B   |  C   |  D   |  E   |  F   |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| `ID` | `sID`| `CMD`| `M`  |      |      |      |      |      |      |      |      |      |      |      |      |
| `20` | `01` | `01` | `01` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` |

|  10  |  11  |  12  |  13  |  14  |  15  |  16  |  17  |  18  |  19  |  1A  |  1B  |  1C  |  1D  |  1E  |  1F  |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| `H`  | `U`  | `A`  | `W`  | `E`  | `I`  | `-`  | `B`  | `A`  | `7`  | `F`  |      |      |      |      |      |
| `48` | `55` | `41` | `57` | `45` | `49` | `2D` | `42` | `41` | `37` | `46` | `00` | `00` | `00` | `00` | `00` |

|  20  |  21  |  22  |  23  |  24  |  25  |  26  |  27  |  28  |  29  |  2A  |  2B  |  2C  |  2D  |  2E  |  2F  |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
|      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` | `00` |

Режим работы `M`:
`WIFI_MODE_STA = 0x01;`
`WIFI_MODE_AP = 0x02;`

* Режим работы `M`
* Имя сети SSID (байты `10`-`2F`)


